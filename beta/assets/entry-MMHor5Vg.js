import{e as x,A as re,g as X,f as de,h as ue,i as he,c as G,R as ce,t as _e,a as pe}from"./utility-CjXVDNSm.js";import{Y as D,V as me,ar as be,$ as ee,_ as v,aq as Z,Z as ae,ak as V,ap as fe}from"./VColorPicker-CP9UrjGZ.js";import{e as ge}from"./easing-functions-BZdVlQmR.js";import{d as U,c as $,at as w,_ as g,a6 as Y,au as ve,a$ as z,a7 as te,X as we,a_ as xe,a1 as _,W as y,u as j,$ as b,aL as se,Z as ne,r as ye,A as Be}from"./resizeObserver-D7ZaoIfM.js";import"./tag-DCwZXOEZ.js";function Ve(s){if(new RegExp("\\p{White_Space}","u").test(s))return"Space";if(new RegExp("\\p{Number}","u").test(s))return"Digit";if(new RegExp("\\p{Script=Han}","u").test(s))return"CJK";if(new RegExp("\\p{Script=Hiragana}|\\p{Script=Katakana}","u").test(s))return"Japanese";if(/[A-Za-z]/.test(s))return"Latin";if(/[-\u2010\u2011\u2012\u2013\u2014\u2212\uFF0D]/.test(s))return"Hyphen";const e="([{<（〔［｛〈《「『【“‘",t=")]}>）〕］｝〉》」』】”’!,.:;?！，。：；？";return e.includes(s)?"AvoidEnd":t.includes(s)?"AvoidStart":"Other"}const ke=(()=>{let s=!1;return()=>{const e=s?"yellow":"blue";return s=!s,e}})();class L{append(e){return new O(this).append(e)}async render(e,t,n){if(n.debug){const a=ke();x(e,{x:t.x,y:t.y+this.shape.below_baseline},{x:t.x,y:t.y-this.shape.above_baseline},a),x(e,{x:t.x+this.shape.width,y:t.y+this.shape.below_baseline},{x:t.x+this.shape.width,y:t.y-this.shape.above_baseline},a),x(e,{x:t.x,y:t.y+this.shape.below_baseline},{x:t.x+this.shape.width,y:t.y+this.shape.below_baseline},a),x(e,{x:t.x,y:t.y-this.shape.above_baseline},{x:t.x+this.shape.width,y:t.y-this.shape.above_baseline},a)}}}class O extends L{treat_as_cjk=[!1,!1];space_after=!1;shape={width:0,above_baseline:0,below_baseline:0};#e;#a;constructor(e){super(),this.#e=[e],this.#a=[],this.treat_as_cjk=[...e.treat_as_cjk],this.shape=e.shape,this.space_after=e.space_after}async render(e,t,n,a=0){const i=e.measureText("a a").width-e.measureText("aa").width;this.#t(),n.debug&&console.log(this.#e,this.#a);const o=this.#e.length===1||a===0?0:(a-this.shape.width)/(this.#e.length-1);let r=t.x;for(const[l,u]of this.#e.entries())n.debug&&x(e,{x:r,y:t.y},{x:r+this.#a[l]*i,y:t.y},"green"),r+=this.#a[l]*i,await u.render(e,{x:r,y:t.y},n),r+=u.shape.width+o}calculate_shape(e,t){const n=e.measureText("a a").width-e.measureText("aa").width;this.#t(),this.shape={width:0,above_baseline:0,below_baseline:0};for(const[a,i]of this.#e.entries())i.calculate_shape(e,t),this.shape.width+=this.#a[a]*n+i.shape.width,this.shape.above_baseline=Math.max(this.shape.above_baseline,i.shape.above_baseline),this.shape.below_baseline=Math.max(this.shape.below_baseline,i.shape.below_baseline)}append(e){return this.treat_as_cjk[1]=e.treat_as_cjk[1],this.space_after=e.space_after,this.#e.push(e),this}#t(){this.#a.splice(0),this.#a=[0];let e=null;for(const[t,n]of this.#e.entries())e!==null&&this.#a.push(e===n.treat_as_cjk[0]?.25:0),e=!n.treat_as_cjk[1],n.space_after&&t!==this.#e.length-1&&(this.#a.push(1),e=null)}}class I extends L{treat_as_cjk=[!1,!1];space_after=!1;shape={width:0,above_baseline:0,below_baseline:0};#e;constructor(e){super(),this.#e=e}async render(e,t,n){super.render(e,t,n),e.fillText(this.#e,t.x,t.y)}calculate_shape(e,t){const n=e.measureText(this.#e);this.shape={width:n.actualBoundingBoxRight,above_baseline:n.fontBoundingBoxAscent,below_baseline:n.fontBoundingBoxDescent}}}class Me extends L{space_after=!1;treat_as_cjk=[!1,!1];shape={width:0,above_baseline:0,below_baseline:0};#e;constructor(e){super();const t=Number.parseFloat(e);if(Number.isNaN(t)){this.#e="0px";return}this.#e=e.endsWith("em")?`${t}em`:`${t}px`}async render(e,t,n){super.render(e,t,n)}calculate_shape(e,t){if(this.#e.endsWith("px"))this.shape={width:Number.parseFloat(this.#e),below_baseline:0,above_baseline:0};else{const n=e.measureText("");this.shape={width:Number.parseFloat(this.#e)*(n.emHeightAscent+n.emHeightDescent),below_baseline:0,above_baseline:0}}}}class ze extends L{space_after=!1;treat_as_cjk=[!1,!1];shape={width:0,above_baseline:0,below_baseline:0};#e;constructor(e){super(),this.#e=e}async render(e,t,n){super.render(e,t,n);const a=D().find_emote(this.#e),i=await(await fetch(a)).blob(),o=await window.createImageBitmap(i,{resizeHeight:this.shape.width,resizeWidth:this.shape.width,resizeQuality:"high"});e.drawImage(o,t.x,t.y-this.shape.above_baseline),o.close()}calculate_shape(e,t){const n=e.textBaseline;e.textBaseline="bottom";const a=e.measureText("").alphabeticBaseline;e.textBaseline=n,this.shape={width:t.chat_emote_size,above_baseline:t.chat_emote_size-a,below_baseline:a}}}function $e(s){const e=/^\[:(?<type>[^:]+):(?<parameter>[^:]+):\]/,t=[];let n=-1,a=-1,i=!1;const o=()=>{if(n<a){const l=new I(s.slice(n,a));if(i){const u=t.pop();t.push(u.append(l)),i=!1}else t.push(l);n=-1,a=-1}},r=l=>{if(s[l]==="["){const d=s.slice(l).match(e);if(d!==null){if(d.groups.type==="emote")return[{box:new ze(d.groups.parameter),action:"normal",avoid_end:!1},l+d[0].length-1];if(d.groups.type==="space")return[{box:new Me(d.groups.parameter),action:"normal",avoid_end:!1},l+d[0].length-1]}}const u=Ve(s[l]);if(["Digit","Latin","Hyphen"].includes(u))return n>=a&&(n=l),a=l+1,[{box:void 0,action:"normal",avoid_end:void 0},l];if(u==="Space"&&t.at(-1)!==void 0)return t.at(-1).space_after=!0,[{box:void 0,action:"break",avoid_end:void 0},l];if(u==="AvoidStart"&&t.at(-1)!==void 0)return[{box:new I(s[l]),action:"append",avoid_end:!1},l];if(u==="AvoidEnd")return[{box:new I(s[l]),action:"normal",avoid_end:!0},l];if(["CJK","Japanese"].includes(u)){const d=new I(s[l]);return d.treat_as_cjk=[!0,!0],[{box:d,action:"normal",avoid_end:!1},l]}else return[{box:new I(s[l]),action:"normal",avoid_end:!1},l]};for(let l=0;l<s.length;l++){const[{box:u,action:d,avoid_end:p},f]=r(l);if(l=f,(u!==void 0||u===void 0&&d==="break")&&o(),u!==void 0&&(i||d==="append")){const h=t.pop();t.push(h.append(u)),i=!1}else u!==void 0&&t.push(u);p!==void 0&&(i=p)}return o(),t}function Ce(s,e,t,n){const a=Array.from({length:s.length+1}).fill(Number.POSITIVE_INFINITY);a[0]=0;const i=Array.from({length:s.length+1}).fill(-1);for(let l=0;l<=s.length;l++)for(let u=0;u<l;u++){const d=new O(s[u]);for(const m of s.slice(u+1,l))d.append(m);d.calculate_shape(t,n);const p=d.shape.width;if(p>e)continue;const f=l===s.length?0:Math.pow(e-p,3),h=a[u]+f;h<a[l]&&(a[l]=h,i[l]=u)}const o=[];let r=s.length;for(;r>0;){const l=i[r],u=new O(s[l]);for(const d of s.slice(l+1,r))u.append(d);o.push(u),r=l}return o.reverse(),[o,a[s.length]]}async function Ae(s,e,t,n){const a=e,i=n??new OffscreenCanvas(0,0);i.width=1,i.height=1;const o=i.getContext("2d");o.font=`${a.chat_font_size}px "HarmonyOS Sans SC"`;const r=$e(s),[l,u]=Ce(r,t,o,a);a.debug&&console.log(l,u);let d=0,p=0;for(const h of l)h.calculate_shape(o,a),d+=h.shape.above_baseline+h.shape.below_baseline,p=Math.max(p,h.shape.width);i.height=d,i.width=p,o.font=`${a.chat_font_size}px "HarmonyOS Sans SC"`,o.strokeStyle="black",o.fillStyle="black",o.textRendering="optimizeLegibility",a.debug&&(x(o,{x:0,y:0},{x:0,y:d}),x(o,{x:p,y:0},{x:p,y:d})),d=0;for(const[h,m]of l.entries())d+=m.shape.above_baseline,await m.render(o,{x:0,y:d},a,h===l.length-1?0:p),d+=m.shape.below_baseline;return{image:await(i instanceof OffscreenCanvas?i.convertToBlob({type:"image/png"}):new Promise((h,m)=>{i.toBlob(M=>h(M),"image/png")})),canvas:i}}const Ie={key:0},Se=["src"],Fe=U({__name:"ParagraphDisplay",props:{paragraph:{}},setup(s){const e=D(),t=s,n=$(()=>{const a=/\[:(?<type>[^:]+):(?<parameter>[^:]+):\]/g,i=t.paragraph.matchAll(a);let o=0;const r=[];for(const l of i){const u=(()=>{if(l.groups.type==="emote"){const d=e.find_emote(l.groups.parameter);return d===void 0?null:{type:"image",src:d,key:`image-${d}`}}else if(l.groups.type==="space")return{type:"space",width:l.groups.parameter,key:crypto.randomUUID()};return null})();u!==null&&(o<l.index&&r.push({type:"text",content:t.paragraph.slice(o,l.index),key:`text-${t.paragraph.slice(o,l.index)}`}),r.push(u),o=l.index+l[0].length)}return o<t.paragraph.length&&r.push({type:"text",content:t.paragraph.slice(o),key:`text-${t.paragraph.slice(o)}`}),r});return(a,i)=>(g(!0),w(Y,null,ve(n.value,(o,r)=>(g(),w(Y,{key:`${r}-${o.key}`},[o.type==="text"?(g(),w("span",Ie,te(o.content),1)):o.type==="image"?(g(),w("img",{key:1,class:"chat-content-image",src:o.src},null,8,Se)):o.type==="space"?(g(),w("span",{key:2,style:we(`width: ${o.width}; display: inline-block`)},null,4)):z("",!0)],64))),128))}}),Te={class:"container chat-container"},je={class:"header"},De={class:"username"},Ue=["src"],Le=["src"],Ne=["src"],Pe=["src"],Ee={class:"main"},He=U({__name:"ChatBubbleDisplay",props:{chatConfig:{},globalConfig:{}},setup(s){xe(o=>({v05ab66c4:`${a.value.avatar_gap}px`,v2aaac1fb:`${a.value.username_to_bubble}px`,v596f0631:n.value.themed.name_color,v8e4338ac:`${a.value.username_to_badge}px`,da2d5888:`${a.value.badge_gap}px`,v57caa2f2:n.value.themed.bubble_color,v1d57ebb2:`${a.value.bubble_padding}px`,v0f10da27:`${a.value.bubble_radius}px`,v6ffcca93:i.value}));const e=D(),t=s,n=$(()=>({shared:t.chatConfig.shared,themed:t.chatConfig.themed.content})),a=$(()=>t.globalConfig.content),i=$(()=>{const o=a.value.bubble_radius,r=Math.PI*a.value.start_angle,l=Math.PI*a.value.end_angle,u=1.1;function d(h){const m=o*(Math.cos(h)+Math.sin(h)-Math.sqrt(Math.sin(2*h)))*u;return[m*Math.cos(h),m*Math.sin(h)]}const p=d(r),f=d(l);return`path("M 0 0 L ${p[0]} ${p[1]} A ${o} ${o} 0 0 0 ${f[0]} ${f[1]} Z")`});return(o,r)=>{const l=Fe;return g(),w("div",Te,[_(me,{class:"chat-avatar",color:"primary",image:n.value.shared.avatar},null,8,["image"]),y("div",null,[y("div",je,[y("span",De,te(n.value.shared.username),1),n.value.shared.logos.manager?(g(),w("img",{key:0,class:"chat-logo",src:j(e).find_emote("special/房管")},null,8,Ue)):z("",!0),n.value.shared.logos.governor?(g(),w("img",{key:1,class:"chat-logo",src:j(e).find_emote("special/总督")},null,8,Le)):z("",!0),n.value.shared.logos.admiral?(g(),w("img",{key:2,class:"chat-logo",src:j(e).find_emote("special/提督")},null,8,Ne)):z("",!0),n.value.shared.logos.captain?(g(),w("img",{key:3,class:"chat-logo",src:j(e).find_emote("special/舰长")},null,8,Pe)):z("",!0)]),y("div",Ee,[_(be,{class:"chat-content",elevation:"0","max-width":"100%",width:"auto"},{default:b(()=>[_(l,{paragraph:n.value.shared.content},null,8,["paragraph"])]),_:1}),r[0]||(r[0]=y("div",{class:"visual-helper"},null,-1))])])])}}}),Re=ee(He,[["__scopeId","data-v-636480ea"]]),qe=U({__name:"ChatBubbleEditor",props:{modelValue:{required:!0},modelModifiers:{}},emits:["update:modelValue"],setup(s){const e=se(s,"modelValue"),t=$(()=>e.value.content);return(n,a)=>(g(),ne(ae,null,{default:b(()=>[_(v,null,{default:b(()=>[y("div",null,[a[2]||(a[2]=y("p",{style:{"text-align":"center"}},"Username color",-1)),_(Z,{modelValue:t.value.name_color,"onUpdate:modelValue":a[0]||(a[0]=i=>t.value.name_color=i),class:"mx-auto","show-swatches":"",swatches:[["#25885B"],["#638CF8"],["#FFFFFF"]]},null,8,["modelValue"])])]),_:1}),_(v,null,{default:b(()=>[y("div",null,[a[3]||(a[3]=y("p",{style:{"text-align":"center"}},"Bubble color",-1)),_(Z,{modelValue:t.value.bubble_color,"onUpdate:modelValue":a[1]||(a[1]=i=>t.value.bubble_color=i),class:"mx-auto","show-swatches":"",swatches:[["#2BEA28"],["#2960FB"],["#FFFFFF"]]},null,8,["modelValue"])])]),_:1})]),_:1}))}}),Oe=ee(qe,[["__scopeId","data-v-5000e6d3"]]),S="仿聊天气泡",We=U({__name:"ChatBubbleGlobalConfig",props:{modelValue:{required:!0},modelModifiers:{}},emits:["update:modelValue"],setup(s){const e=se(s,"modelValue"),t={avatar_gap:16,username_to_badge:12,username_to_bubble:12,badge_gap:8,bubble_padding:20,bubble_radius:24,start_angle:.05,end_angle:.4},n=ye(!1);Be(()=>{e.value.theme!==S&&(e.value.theme=S,e.value.content={...t}),n.value=!0});const a=$(()=>e.value.content);return(i,o)=>n.value?(g(),ne(ae,{key:0},{default:b(()=>[_(v,{cols:"6"},{default:b(()=>[_(V,{modelValue:a.value.avatar_gap,"onUpdate:modelValue":o[0]||(o[0]=r=>a.value.avatar_gap=r),modelModifiers:{number:!0},"hide-details":"",label:"头像到内容间距",suffix:"pixel"},null,8,["modelValue"])]),_:1}),_(v,{cols:"6"},{default:b(()=>[_(V,{modelValue:a.value.username_to_badge,"onUpdate:modelValue":o[1]||(o[1]=r=>a.value.username_to_badge=r),modelModifiers:{number:!0},"hide-details":"",label:"用户名到徽章距离",suffix:"pixel"},null,8,["modelValue"])]),_:1}),_(v,{cols:"6"},{default:b(()=>[_(V,{modelValue:a.value.username_to_bubble,"onUpdate:modelValue":o[2]||(o[2]=r=>a.value.username_to_bubble=r),modelModifiers:{number:!0},"hide-details":"",label:"用户名到气泡距离",suffix:"pixel"},null,8,["modelValue"])]),_:1}),_(v,{cols:"6"},{default:b(()=>[_(V,{modelValue:a.value.badge_gap,"onUpdate:modelValue":o[3]||(o[3]=r=>a.value.badge_gap=r),modelModifiers:{number:!0},"hide-details":"",label:"徽章间距",suffix:"pixel"},null,8,["modelValue"])]),_:1}),_(v,{cols:"6"},{default:b(()=>[_(V,{modelValue:a.value.bubble_padding,"onUpdate:modelValue":o[4]||(o[4]=r=>a.value.bubble_padding=r),modelModifiers:{number:!0},"hide-details":"",label:"气泡内间距",suffix:"pixel"},null,8,["modelValue"])]),_:1}),_(v,{cols:"6"},{default:b(()=>[_(V,{modelValue:a.value.bubble_radius,"onUpdate:modelValue":o[5]||(o[5]=r=>a.value.bubble_radius=r),modelModifiers:{number:!0},"hide-details":"",label:"气泡圆角尺寸",suffix:"pixel"},null,8,["modelValue"])]),_:1}),_(v,{cols:"6"},{default:b(()=>[_(V,{modelValue:a.value.start_angle,"onUpdate:modelValue":o[6]||(o[6]=r=>a.value.start_angle=r),modelModifiers:{number:!0},"hide-details":"",label:"起始角",suffix:"π"},null,8,["modelValue"])]),_:1}),_(v,{cols:"6"},{default:b(()=>[_(V,{modelValue:a.value.end_angle,"onUpdate:modelValue":o[7]||(o[7]=r=>a.value.end_angle=r),modelModifiers:{number:!0},"hide-details":"",label:"终止角",suffix:"π"},null,8,["modelValue"])]),_:1})]),_:1})):z("",!0)}}),Je="_hide-by-transparent_edd012b",Q={"hide-by-transparent":Je},Ke={name_color:"#000000",bubble_color:"#ffffff"};async function Ze(s,e,t){const n=t.themes.content,a=e.measureText(s.shared.username),i=a.actualBoundingBoxLeft,o=a.actualBoundingBoxLeft+a.actualBoundingBoxRight,r=a.fontBoundingBoxAscent+a.fontBoundingBoxDescent,l=e.measureText("x"),u=l.actualBoundingBoxAscent+l.actualBoundingBoxDescent,d=r*.25,p=r+d*2,f=d+a.fontBoundingBoxAscent-u/2,h=(()=>{let c=0;return s.shared.logos.admiral&&(c+=1),s.shared.logos.captain&&(c+=1),s.shared.logos.governor&&(c+=1),s.shared.logos.manager&&(c+=1),c})(),[m,M]=(()=>{if(h>0){const c=f-t.shared.chat_logo_size/2;return c<0?[-c,0]:[0,c]}return[0,-t.shared.chat_logo_size]})(),N=Math.max(m+p,M+t.shared.chat_logo_size),P=(t.shared.chat_logo_size+n.badge_gap)*h-n.badge_gap+n.username_to_badge,E=o+(h>0?P:0),C=m+d+a.fontBoundingBoxAscent,H=e.font;if(e.canvas.height=N,e.canvas.width=E,e.font=H,e.textRendering="optimizeLegibility",e.fillStyle=s.themed.content.name_color,e.strokeStyle=s.themed.content.name_color,e.fillText(s.shared.username,i,C),h>0){let c=i+o+n.username_to_badge;const R=D();for(const[J,B]of[[s.shared.logos.manager,"special/房管"],[s.shared.logos.governor,"special/总督"],[s.shared.logos.admiral,"special/提督"],[s.shared.logos.captain,"special/舰长"]]){if(!J)continue;const q=R.find_emote(B),F=await(await fetch(q)).blob(),T=await window.createImageBitmap(F,{resizeHeight:t.shared.chat_logo_size,resizeWidth:t.shared.chat_logo_size,resizeQuality:"high"});e.drawImage(T,c,M),c+=t.shared.chat_logo_size,T.close(),c+=n.badge_gap}}return t.shared.debug&&(x(e,{x:i,y:0},{x:i,y:e.canvas.height}),x(e,{x:i+o,y:0},{x:i+o,y:e.canvas.height}),x(e,{x:0,y:C},{x:e.canvas.width,y:C})),G(e.canvas)}async function oe(s,e,t){const[n,a]=de(t),i=e.themes.content,r=e.shared.chat_width_limit-e.shared.chat_avatar_size-i.avatar_gap-i.bubble_padding*2;r<=0&&fe().show_dialog("warning","气泡可用宽度太小了！",`宽度只有${r}，很可能产生奇怪的结果`);const{image:l}=await Ae(s.shared.content,e.shared,r,n),u=n.height,d=n.width,p=u+i.bubble_padding*2,f=d+i.bubble_padding*2,h=await Ze(s,a,e),m=n.height,M=n.width,N=e.shared.chat_avatar_size+i.avatar_gap+Math.max(f,M),W=Math.max(e.shared.chat_avatar_size,m+i.username_to_bubble+p),P=a.font,E=await window.createImageBitmap(l),C=await window.createImageBitmap(h),H=await window.createImageBitmap(await ue(s.shared.avatar,a,e.shared.chat_avatar_size));a.canvas.height=W,a.canvas.width=N,a.font=P,a.textRendering="optimizeLegibility",a.drawImage(C,e.shared.chat_avatar_size+i.avatar_gap,0);const c={x:e.shared.chat_avatar_size+i.avatar_gap,y:m+i.username_to_bubble},R=i.bubble_radius;a.fillStyle=s.themed.content.bubble_color;const[J,B]=he(a,c,{width:f,height:p},R)[0];function q(k){const A=B*(Math.cos(k)+Math.sin(k)-Math.sqrt(Math.sin(2*k)))*1.05;return[A*Math.cos(k),A*Math.sin(k)]}function F(k){const A=q(k),ie=Math.acos((B-A[0])/B);return[Math.PI+ie,A]}const[T,K]=F(Math.PI*i.start_angle),[le]=F(Math.PI*i.end_angle);return a.beginPath(),a.moveTo(c.x,c.y),a.lineTo(c.x+K[0],c.y+K[1]),a.arc(c.x+B,c.y+B,B,T,le,!0),a.lineTo(c.x,c.y),a.closePath(),a.fill(),a.drawImage(E,c.x+i.bubble_padding,c.y+i.bubble_padding),a.drawImage(H,0,0),{image:await G(n),canvas:n}}function Ye(s,e,t){if(t.shared.selected_mode.name==="danmaku")return{};e.classList.add(Q["hide-by-transparent"]);const n=t.shared.main_axis==="horizontal"?"translateY":"translateX",a=60*X(t.shared.flow_direction);return{animation:new Animation(new KeyframeEffect(e,[{transform:`${n}(${a}%)`,opacity:0},{transform:"none",opacity:1}],{duration:t.shared.enter_duration,easing:"ease-out",delay:s.shared.enter_millisecond+t.shared.lift_duration,fill:"forwards"})),revoke:()=>{e.classList.remove(Q["hide-by-transparent"])}}}class Qe extends ce{size;render_pass2=void 0;#e;#a;#t;#s;#n;constructor(e,t,n,a){super(),this.size={width:e.width,height:e.height},this.#e=t,this.#a=e,this.#t=_e(this.size,n),this.#s=n,this.#n=X(a)}render(e,t,n,a){const i=this.#e.get_ratio(a.current_time);if(i===1){const d=this.#a;return this.#a=void 0,d}const o=.6*this.#t.breadth*(1-i)*this.#n,r=pe({breadth:o,length:0},this.#s),l=i,u=e.globalAlpha;return e.globalAlpha=l,e.drawImage(this.#a,n.topleft.x+r.width,n.topleft.y+r.height),e.globalAlpha=u,!0}async free(){this.#a&&(this.#a.close(),this.#a=void 0)}}async function Xe(s,e,t){const{image:n}=await oe(s,e,t.canvas),a=await window.createImageBitmap(n);return e.shared.selected_mode.name==="danmaku"?{render:a,render_pass2:void 0}:new Qe(a,new re({start:s.shared.enter_millisecond+e.shared.lift_duration,end:s.shared.enter_millisecond+e.shared.lift_duration+e.shared.enter_duration},{easing:ge.ease_out_sine}),e.shared.main_axis,e.shared.flow_direction)}const na={name:S,global_configure:We,editor:Oe,display:Re,prepare_chat:s=>{s.themed.theme!==S&&(s.themed.theme=S,s.themed.content={...Ke})},render:oe,prepare_entering_animation:Ye,prepare_rendering:Xe};export{na as default};
